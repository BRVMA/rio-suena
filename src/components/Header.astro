---
import MenuSVG from './icons/MenuSVG.astro';
import XSVG from './icons/XSVG.astro';

const pages = [
    {
        path: '',
        label: 'Inicio',
    },
    {
        path: 'capitulos',
        label: 'Capítulos',
    },
    {
        path: 'nosotros',
        label: 'Nosotros',
    },
    {
        path: 'blog',
        label: 'Blog',
    },
    {
        path: '',
        label: 'Contacto',
    },
];
---

<header class="text-2xl uppercase">
    <button id="menu-btn" class="lg:hidden flex items-center ml-auto px-6 py-4 text-xl">
        <MenuSVG clase="h-5 mr-3" />
        MENÚ
    </button>

    <dialog id="menu" class="lg:hidden bg-black bg-opacity-75 text-white rounded-2xl backdrop:bg-black backdrop:bg-opacity-40 open:animate-fade-in">
        <form method="dialog" class="text-end">
            <button type="submit" class="p-4">
                <XSVG clase="w-6" />
            </button>
        </form>

        <nav class="p-12 pt-6">
            <ol class="space-y-6">
                {pages.map(page => (
                    <li>
                        <a href={`/${page.path}`}>
                            {page.label}
                        </a>
                    </li>
                ))}
            </ol>
        </nav>
    </dialog>

    <nav class="hidden lg:block p-8">
        <ol class="flex justify-center space-x-16">
            {pages.map(page => (
                <li>
                    <a href={`/${page.path}`}>
                        {page.label}
                    </a>
                </li>
            ))}
        </ol>
    </nav>
</header>

<script is:inline>
    document.addEventListener('astro:page-load', () => {
        document.getElementById('menu-btn')?.addEventListener('click', () => {
            document.getElementById('menu')?.showModal();
        });
    });
</script>
